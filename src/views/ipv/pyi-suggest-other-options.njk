{% extends "shared/base.njk" %}
{% from "govuk/components/button/macro.njk" import govukButton %}
{% from "govuk/components/radios/macro.njk" import govukRadios %}
{% set pageTitleName = 'pages.pyiCimitMitigation.title' | translate %}
{% set googleTagManagerPageId = "pyiCimitMitigation" %}

{% block content %}
  <h1 class="govuk-heading-l" id="header" data-page="{{ googleTagManagerPageId }}">{{ 'pages.pyiCimitMitigation.header' | translate }}</h1>
  <p class="govuk-body">{{ 'pages.pyiCimitMitigation.content.paragraph1' | translate | safe }}</p>

  <h2 class="govuk-heading-m">{{ 'pages.pyiCimitMitigation.content.subHeading' | translate }}</h2>
  <p class="govuk-body">{{ 'pages.pyiCimitMitigation.content.paragraph2' | translate | safe }}</p>
  <p class="govuk-body govuk-!-margin-bottom-1">{{ 'pages.pyiCimitMitigation.content.paragraph3' | translate | safe }}</p>
  <ul class="govuk-list govuk-list--bullet govuk-!-margin-bottom-5">
    <li>{{'pages.pyiCimitMitigation.content.bullet1' | translate | safe }}</li>
    <li>{{'pages.pyiCimitMitigation.content.bullet2' | translate | safe }}</li>
  </ul>
  <p class="govuk-body">{{ 'pages.pyiCimitMitigation.content.paragraph4' | translate | safe }}</p>
  <h2 class="govuk-heading-m">{{ 'pages.pyiCimitMitigation.content.subHeading2' | translate }}</h2>

  <form id="pyiCimitMitigationForm" action="/ipv/page/{{ pageId }}" method="POST" onsubmit="return pyiCimitMitigationFormSubmit()">
    <input type="hidden" name="_csrf" value="{{ csrfToken }}">
    {{ govukRadios({
    idPrefix: "journey",
    name: "journey",
    items: [
              {
                value: "next/dcmaw",
                text: 'pages.pyiCimitMitigation.content.formRadioButtons.continueAppButtonText' | translate,
                hint: {text: 'pages.pyiCimitMitigation.content.formRadioButtons.continueAppButtonTextHint' | translate}

              },
              {
                value: "next/f2f",
                text: 'pages.pyiCimitMitigation.content.formRadioButtons.continuePostOfficeButtonText' | translate,
                hint: { text: 'pages.pyiCimitMitigation.content.formRadioButtons.continuePostOfficeButtonTextHint' | translate }
              }
            ]
      })
    }}
    <button name="submitButton" class="govuk-button" data-module="govuk-button" id="submitButton">
      {{ 'general.buttons.next' | translate }}
    </button>
  </form>

  <p class="govuk-body">
    <a target="_blank" rel="noopener noreferrer" href="{{'general.shared.contactLinkHref' | translate }}" class="govuk-link">
      {{'general.shared.contactLinkText' | translate }}
    </a>
  </p>

  <script>
      let disableSubmit = false;

      function pyiCimitMitigationFormSubmit() {
          if (!disableSubmit) {
              disableSubmit = true;
              document.getElementById('submitButton').disabled = true;
              return true
          }
          return false;
      }
  </script>
{% endblock %}
