{% extends "shared/base.njk" %}
{% from "components/journey-next-form.njk" import journeyNextForm %}
{% set pageTitleKey = 'pages.checkMobileAppResult.title' %}
{% set googleTagManagerPageId = "checkMobileAppResult" %}
{% set isPageDynamic = false %}

{% block content %}
  <form action="/ipv/page/{{ pageId }}" method="post" novalidate="novalidate">
    <input type="hidden" name="_csrf" value="{{ csrfToken }}">
    <div id="spinner-container"
          data-initial-heading="{{ 'pages.checkMobileAppResult.content.spinner.initial.heading' | translate }}{{ serviceName }}"
          data-initial-spinnerStateText="{{ 'pages.checkMobileAppResult.content.spinner.initial.spinnerStateText' | translate }}"
          data-initial-spinnerState="{{ 'pages.checkMobileAppResult.content.spinner.initial.spinnerState' | translate }}"
          data-error-heading="{{ 'pages.checkMobileAppResult.content.spinner.error.heading' | translate }}"
          data-error-messageText="{{ 'pages.checkMobileAppResult.content.spinner.error.messageText' | translate }}"
          data-error-whatYouCanDo-heading="{{ 'pages.checkMobileAppResult.content.spinner.error.whatYouCanDo.heading' | translate }}"
          data-error-whatYouCanDo-message-text1="{{ 'pages.checkMobileAppResult.content.spinner.error.whatYouCanDo.message.text1' | translate }}"
          data-error-whatYouCanDo-message-link-href="{{ 'pages.checkMobileAppResult.content.spinner.error.whatYouCanDo.message.link.href' | translate }}"
          data-error-whatYouCanDo-message-link-text="{{ 'pages.checkMobileAppResult.content.spinner.error.whatYouCanDo.message.link.text' | translate }}"
          data-error-whatYouCanDo-message-text2="{{ 'pages.checkMobileAppResult.content.spinner.error.whatYouCanDo.message.text2' | translate }}"
          data-complete-spinnerState="{{ 'pages.checkMobileAppResult.content.spinner.complete.spinnerState' | translate }}"
          data-longWait-spinnerStateText="{{ 'pages.checkMobileAppResult.content.spinner.longWait.spinnerStateText' | translate }}"
          data-continueButton-text="{{ 'pages.checkMobileAppResult.content.spinner.continueButtonText' | translate }}"
          data-aria-button-enabled-message="{{ 'pages.checkMobileAppResult.content.spinner.ariaButtonEnabledMessage' | translate }}"
          data-api-url="{{ apiUrl }}"
          data-ms-between-requests="{{msBetweenRequests}}"
          data-ms-before-informing-of-long-wait="{{msBeforeInformingOfLongWait}}"
          data-ms-before-abort="{{msBeforeAbort}}">
        <div class="govuk-form-group">
            <h1 class="govuk-label-wrapper">
                <label class="govuk-label govuk-label--l" for="more-detail">
                    {{ 'pages.checkMobileAppResult.content.htmlOnlyVersion.header' | translate }}
                </label>
            </h1>
            <p class="govuk-body">{{ 'pages.checkMobileAppResult.content.htmlOnlyVersion.paragraph' | translate }}</p>
            <p class="govuk-body">{{ 'pages.checkMobileAppResult.content.htmlOnlyVersion.paragraph2' | translate }}</p>
            <button type="submit" class="govuk-button">
                {{ 'pages.checkMobileAppResult.content.htmlOnlyVersion.button' | translate }}
            </button>
        </div>
      </div>
  </form>

{% endblock %}

{% block scripts %}
    <script nonce='{{ cspNonce }}' defer type="module" src="/public/javascripts/frontend-ui.js"></script>
    <script nonce='{{ cspNonce }}' defer type="module">
        import { useSpinner } from "/public/javascripts/frontend-ui.js";
        useSpinner();
    </script>
{% endblock %}
